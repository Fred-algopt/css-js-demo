<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<title>Étoiles tournantes - Grande Ourse</title>
<style>
  html, body {
    margin: 0; padding: 0; height: 100%; width: 100%;
    background: #000;
    overflow: hidden;
    user-select: none;
  }
  body {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-around;
    align-items: center;
  }
  .star {
    position: absolute;
    background: gold;
    clip-path: polygon(
      50% 0%,
      61% 35%,
      98% 35%,
      68% 57%,
      79% 91%,
      50% 70%,
      21% 91%,
      32% 57%,
      2% 35%,
      39% 35%
    );
    filter: drop-shadow(0 0 4px #ffd700);
    cursor: pointer;
    transform-origin: 50% 50%;
    transition: filter 0.3s ease;
  }
  .star:hover {
    filter: drop-shadow(0 0 10px #ffff66);
  }
</style>
</head>
<body>

<script>
  // Configuration des étoiles
  // Chaque étoile a : taille(px), position (x%, y%), vitesse de rotation (en s)
  // Pour la grande ourse, on fixe 6 étoiles avec positions spécifiques
  // Les autres sont dispersées aléatoirement

  const starsConfig = [];

  // Positions approximatives en % de la fenêtre pour la Grande Ourse (6 étoiles)
  const grandeOursePositions = [
    {x: 40, y: 20},
    {x: 50, y: 30},
    {x: 60, y: 40},
    {x: 70, y: 50},
    {x: 55, y: 60},
    {x: 45, y: 70},
  ];

  // Ajout 6 étoiles Grande Ourse avec tailles et vitesses variables
  for(let i=0; i<6; i++) {
    starsConfig.push({
      x: grandeOursePositions[i].x,
      y: grandeOursePositions[i].y,
      size: 50 + Math.random()*30,  // taille entre 50 et 80 px
      speed: 2 + Math.random()*3    // vitesse entre 2 et 5 s par rotation
    });
  }

  // Ajout 14 étoiles aléatoires sur l'écran
  for(let i=0; i<14; i++) {
    starsConfig.push({
      x: Math.random()*90 + 5,  // 5% à 95% pour ne pas toucher bordures
      y: Math.random()*90 + 5,
      size: 20 + Math.random()*40, // taille entre 20 et 60 px
      speed: 1 + Math.random()*5   // vitesse entre 1 et 6 s
    });
  }

  // Fonction pour créer les étoiles dans le DOM
  function createStars() {
    starsConfig.forEach((star, index) => {
      const el = document.createElement('div');
      el.classList.add('star');
      el.style.width = star.size + 'px';
      el.style.height = star.size + 'px';
      el.style.left = `calc(${star.x}% - ${star.size/2}px)`;
      el.style.top = `calc(${star.y}% - ${star.size/2}px)`;
      el.dataset.speed = star.speed;
      el.dataset.running = "false";
      el.dataset.rotation = "0";
      el.dataset.index = index;
      el.style.transition = 'transform 0.1s linear';

      // Clic : toggle animation rotation
      el.addEventListener('click', () => toggleRotation(el));

      document.body.appendChild(el);
    });
  }

  // Gère la rotation par frame avec requestAnimationFrame
  const runningStars = new Set();

  function toggleRotation(el) {
    if(el.dataset.running === "false") {
      el.dataset.running = "true";
      runningStars.add(el);
    } else {
      el.dataset.running = "false";
      runningStars.delete(el);
      el.style.transform = 'rotate(0deg)';
      el.dataset.rotation = "0";
    }
  }

  // Animation loop
  let lastTime = null;
  function animate(time=0){
    if(!lastTime) lastTime = time;
    const delta = (time - lastTime) / 1000; // en secondes
    lastTime = time;

    runningStars.forEach(el => {
      let rotation = parseFloat(el.dataset.rotation);
      const speed = parseFloat(el.dataset.speed); // secondes pour 360deg
      rotation += 360 * delta / speed;
      rotation %= 360;
      el.style.transform = `rotate(${rotation}deg)`;
      el.dataset.rotation = rotation;
    });

    requestAnimationFrame(animate);
  }

  createStars();
  requestAnimationFrame(animate);
</script>

</body>
</html>